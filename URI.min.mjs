// minify: https://www.digitalocean.com/community/tools/minify
export default class URI{constructor(opts=[]){this.name="URI v1.2.6",this.opts=opts,this.json={scheme:"",host:"",path:"",query:{}}}parse(url){let json=url.match(/(?:(?<scheme>.+):\/\/(?<host>[^/]+))?\/?(?<path>[^?]+)?\??(?<query>[^?]+)?/)?.groups??null;if(json?.path?json.paths=json.path.split("/"):json.path="",json?.paths){const fileName=json.paths[json.paths.length-1];if(fileName?.includes(".")){const list=fileName.split(".");json.format=list[list.length-1]}}return json?.query&&(json.query=Object.fromEntries(json.query.split("&").map((param=>param.split("="))))),json}stringify(json=this.json){let url="";return json?.scheme&&json?.host&&(url+=json.scheme+"://"+json.host),json?.path&&(url+=json?.host?"/"+json.path:json.path),json?.query&&(url+="?"+Object.entries(json.query).map((param=>param.join("="))).join("&")),url}}
